<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Balloon Pop Addition Game</title>
<style>
  body {
    background: linear-gradient(to top, #87ceeb, #fff);
    font-family: 'Comic Sans MS', cursive;
    overflow: hidden;
    margin: 0;
    padding: 0;
    user-select: none;
  }
  #gameArea {
    position: relative;
    height: 90vh;
    max-width: 600px;
    margin: 20px auto;
    border-radius: 20px;
    background: #a0d8f7;
    box-shadow: 0 4px 15px rgba(0,0,0,0.3);
    overflow: hidden;
  }
  .balloon {
    position: absolute;
    bottom: -150px;
    width: 80px;
    height: 110px;
    border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
    background: radial-gradient(circle at 30% 30%, #ff6b6b, #c0392b);
    text-align: center;
    color: white;
    font-weight: bold;
    font-size: 2.5em;
    line-height: 110px;
    cursor: pointer;
    user-select: none;
    box-shadow: 0 0 10px rgba(255,0,0,0.6);
    transition: transform 0.2s ease;
  }
  .balloon.green {
    background: radial-gradient(circle at 30% 30%, #2ecc71, #27ae60);
    box-shadow: 0 0 10px rgba(0,255,0,0.6);
  }
  .balloon.blue {
    background: radial-gradient(circle at 30% 30%, #3498db, #2980b9);
    box-shadow: 0 0 10px rgba(0,0,255,0.6);
  }
  .balloon.yellow {
    background: radial-gradient(circle at 30% 30%, #f1c40f, #f39c12);
    box-shadow: 0 0 10px rgba(255,255,0,0.8);
  }
  #questionBox {
    font-size: 2.2em;
    margin: 20px auto;
    text-align: center;
    color: #34495e;
  }
  #scoreBoard {
    font-size: 1.3em;
    margin-top: 10px;
    text-align: center;
  }
  #monster {
    font-size: 7em;
    text-align: center;
    user-select: none;
    margin-top: 15px;
    transition: transform 0.3s ease;
  }
  #feedback {
    text-align: center;
    font-size: 2em;
    margin-top: 10px;
    height: 40px;
  }
  #nextBtn {
    display: none;
    margin: 20px auto;
    padding: 12px 25px;
    font-size: 1.2em;
    border: none;
    border-radius: 12px;
    background-color: #27ae60;
    color: white;
    cursor: pointer;
    user-select: none;
  }
  #nextBtn:hover {
    background-color: #219150;
  }
</style>
</head>
<body>

<div id="gameArea">
  <div id="questionBox">Loading question...</div>
  <div id="scoreBoard">Score: 0 / 5</div>
  <div id="monster">üê∏</div>
  <div id="feedback"></div>
  <button id="nextBtn">Next</button>
</div>

<script>
  const gameArea = document.getElementById('gameArea');
  const questionBox = document.getElementById('questionBox');
  const scoreBoard = document.getElementById('scoreBoard');
  const monster = document.getElementById('monster');
  const feedback = document.getElementById('feedback');
  const nextBtn = document.getElementById('nextBtn');

  const totalQuestions = 5;
  let currentQuestion = 0;
  let score = 0;
  let correctAnswer = 0;
  let balloons = [];

  function randomInt(min, max) {
    return Math.floor(Math.random() * (max - min + 1)) + min;
  }

  function createBalloon(num, color) {
    const balloon = document.createElement('div');
    balloon.classList.add('balloon', color);
    balloon.textContent = num;
    balloon.style.left = randomInt(20, 500) + 'px';
    balloon.style.bottom = '-150px';
    balloon.style.transform = 'scale(1)';
    balloon.style.transition = 'transform 0.2s ease';
    gameArea.appendChild(balloon);

    // Animate balloon rising
    let bottomPos = -150;
    let riseSpeed = randomInt(1, 3);

    function rise() {
      bottomPos += riseSpeed;
      if (bottomPos > gameArea.clientHeight) {
        balloon.style.bottom = '-150px';
        bottomPos = -150;
      } else {
        balloon.style.bottom = bottomPos + 'px';
      }
      balloon._riseAnim = requestAnimationFrame(rise);
    }
    rise();

    balloon.addEventListener('click', () => popBalloon(balloon, num));

    return balloon;
  }

  function popBalloon(balloon, num) {
    if (num === correctAnswer) {
      feedback.textContent = "üéâ Yay! That's right!";
      feedback.style.color = '#27ae60';
      monster.textContent = 'üòÑ';
      score++;
      scoreBoard.textContent = `Score: ${score} / ${totalQuestions}`;
      cleanupBalloons();
      nextBtn.style.display = 'block';
    } else {
      feedback.textContent = "Oops! Try again!";
      feedback.style.color = '#e74c3c';
      monster.textContent = 'üòï';
      balloon.style.transform = 'scale(1.3)';
      setTimeout(() => {
        balloon.style.transform = 'scale(1)';
      }, 300);
    }
  }

  function cleanupBalloons() {
    balloons.forEach(b => {
      cancelAnimationFrame(b._riseAnim);
      b.remove();
    });
    balloons = [];
  }

  function generateQuestion() {
    cleanupBalloons();
    feedback.textContent = '';
    monster.textContent = 'üê∏';
    nextBtn.style.display = 'none';

    currentQuestion++;
    if (currentQuestion > totalQuestions) {
      questionBox.textContent = "üéâ Game Over! You scored " + score + " out of " + totalQuestions + "!";
      feedback.textContent = '';
      monster.textContent = 'üèÜ';
      return;
    }

    const a = randomInt(1, 10);
    const b = randomInt(1, 10);
    correctAnswer = a + b;

    questionBox.textContent = `What is ${a} + ${b}?`;

    // Create 4 balloons with numbers - 1 correct + 3 wrong random
    let answers = new Set();
    answers.add(correctAnswer);

    while (answers.size < 4) {
      let wrong = correctAnswer + randomInt(-5, 5);
      if (wrong > 0) answers.add(wrong);
    }

    const colors = ['red', 'green', 'blue', 'yellow'];
    const arrAnswers = Array.from(answers);
    arrAnswers.sort(() => Math.random() - 0.5); // shuffle

    arrAnswers.forEach((num, i) => {
      balloons.push(createBalloon(num, colors[i]));
    });
  }

  nextBtn.addEventListener('click', generateQuestion);

  // Start game
  generateQuestion();

</script>

</body>
</html>
